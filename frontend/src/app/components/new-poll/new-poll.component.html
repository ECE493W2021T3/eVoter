<div style="height: 100%">
    <mat-horizontal-stepper #stepper fxFlex>
        <mat-step [stepControl]="pollConfigForm" errorMessage="Invalid configuration.">
            <form [formGroup]="pollConfigForm" fxLayout="column" fxFlex="50">
                <ng-template matStepLabel>Poll configuration</ng-template>

                <mat-form-field>
                    <input matInput formControlName="title" placeholder="Title" required>
                    <mat-error *ngIf="pcf.title.errors && pcf.title.errors.required">Title is required</mat-error>
                </mat-form-field>

                <mat-form-field>
                    <mat-label>Type</mat-label>
                    <mat-select formControlName="type" required>
                        <mat-option></mat-option>
                        <mat-option *ngFor="let type of pollTypes" [value]="type.value">{{ type.display }}</mat-option>
                    </mat-select>
                    <mat-error *ngIf="pcf.type.errors && pcf.type.errors.required">Type is required</mat-error>
                </mat-form-field>

                <mat-form-field>
                    <mat-label>Access Level</mat-label>
                    <mat-select formControlName="accessLevel" required>
                        <mat-option></mat-option>
                        <mat-option *ngFor="let accessLevel of accessLevels" [value]="accessLevel.value">{{
                            accessLevel.display }}</mat-option>
                    </mat-select>
                    <mat-error *ngIf="pcf.accessLevel.errors && pcf.accessLevel.errors.required">Access Level is
                        required</mat-error>
                </mat-form-field>

                <!-- <mat-form-field fxFlex>
                    <input matInput readonly required [min]="minDate" [matDatepicker]="endDatePicker"
                        (focus)="endDatePicker.open()" formControlName="endDate" placeholder="End Date">
                    <mat-datepicker-toggle matSuffix [for]="endDatePicker"></mat-datepicker-toggle>
                    <mat-datepicker #endDatePicker></mat-datepicker>
                    <mat-error *ngIf="pcf.endDate.errors && pcf.endDate.errors.required">End Date is required
                    </mat-error>
                </mat-form-field> -->

                <br />

                <div fxLayout="column" fxLayoutGap="20px">
                    <mat-slide-toggle formControlName="isAnonymousModeOn" color="primary">
                        Anonymous Mode
                    </mat-slide-toggle>

                    <mat-slide-toggle formControlName="isHiddenUntilDeadline" color="primary">
                        Results Remain Hidden Until Deadline
                    </mat-slide-toggle>

                    <mat-slide-toggle formControlName="canVotersSeeResults" color="primary">
                        Allow All Voters To See Results
                    </mat-slide-toggle>
                </div>

                <br /><br />

                <div>
                    <button mat-button matStepperNext>Next</button>
                </div>
            </form>

            <!-- Fill remaining column space -->
            <div fxFlex></div>
        </mat-step>

        <mat-step>
            <ng-template matStepLabel>Done</ng-template>
            <p>You are now done.</p>
            <div>
                <button mat-button matStepperPrevious>Back</button>
                <button mat-button (click)="stepper.reset()">Reset</button>
            </div>
        </mat-step>
    </mat-horizontal-stepper>
</div>